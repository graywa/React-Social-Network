{"version":3,"sources":["components/common/FormsControl/FormsControl.tsx","img/users/user.png","redux/dialogsReducer.ts","API/chat-api.ts","redux/chatReducer.ts","components/common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","API/api.ts","components/Users/Users.module.css","components/Navbar/Navbar.tsx","components/Music/Music.tsx","components/News/News.tsx","components/Settings/Settings.tsx","components/Users/User.tsx","components/Users/Paginator.tsx","redux/usersSelectors.ts","components/Users/UsersSearchForm.tsx","API/users-api.ts","redux/usersReducer.ts","components/Users/Users.tsx","components/Users/UsersPage.tsx","components/Header/Header.tsx","API/auth-api.ts","API/security-api.ts","redux/authReducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/appReducer.ts","components/HOC/withSuspense.tsx","App.tsx","redux/redux-store.ts","index.tsx","components/common/FormsControl/FormsControl.module.css","components/Header/Header.module.css","API/profile-api.ts","redux/profileReducer.ts","components/utilities/validators.ts","img/users/preloader.svg","components/common/Preloader/Preloader.tsx"],"names":["Element","input","meta","props","hasError","touched","error","className","styles","formControl","messageError","actionCreators","newMessageAC","newMessage","type","initialState","dialogsData","id","name","messagesData","message","dialogsReducer","state","action","subscribers","ws","notifySubscribersAboutStatus","status","forEach","s","createChannel","removeEventListener","closeHandler","messageHandler","openHandler","errorHandler","cleanUp","close","WebSocket","addEventListener","console","log","setTimeout","e","newMessages","JSON","parse","data","chatAPI","event","callback","push","filter","send","messages","payload","_newMessagesHandler","newMessageHandlerCreator","dispatch","_statusChangedHandler","statusChangedHandlerCreator","getMessages","a","stopGetMessages","sendMessage","chatReducer","map","el","uuidv4","index","array","length","module","exports","ResultCodesEnum","ResultCodeWithCaptchaEnum","instance","axios","create","baseURL","withCredentials","headers","NavbarList","activeMenu","setActiveMenu","classes","nav__list_active","nav__list","onClick","item","to","activeClassName","activeLink","Navbar","useState","nav","burger_active","burger","Music","News","Settings","User","container","user","img__container","user__img","src","photos","small","alt","followed","btn","disabled","followInProgress","some","unfollow","follow","user__info","user__info__item","user__name","user__status","Paginator","pagesCount","Math","ceil","totalUsers","usersOnPage","portionCount","portionSize","pages","i","currentPage","portionNumber","setPortionNumber","leftPage","rightPage","selectorNumbers","btn__pages","p","selectedPage","unselectedPage","onPageChanged","getUsersFilter","usersPage","getUsersData","usersData","getUsersOnPage","getTotalUsers","getCurrentPage","getIsFetching","isFetching","getFollowInProgress","usersSearchFormValidate","values","UsersSearchForm","React","memo","useSelector","enableReinitialize","initialValues","term","friend","String","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","style","margin","padding","width","as","value","usersAPI","get","then","response","userId","post","delete","users","page","usersCount","getUsers","items","totalCount","usersReducer","u","Users","useDispatch","history","useHistory","useEffect","URLParams","URLSearchParams","location","search","actualPage","actualFilter","Number","pathname","followUser","resultCode","unfollowUser","textAlign","UsersPage","Preloader","Header","header","auth__block","isAuth","login__container","userAva","user__ava","login","logout","authAPI","email","password","rememberMe","captcha","securityAPI","captchaUrl","getAuthUser","getCaptchaUrl","url","authReducer","HeaderContainer","this","getUserAva","refreshHeader","prevProps","Component","connect","authUser","profilePage","actionCreatorsProfile","setUserAva","Input","LoginFormRedux","reduxForm","form","handleSubmit","Field","placeholder","component","required","sumError","LoginPage","Success","WithCaptcha","stopSubmit","_error","initialized","appReducer","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","ChatPage","SuspendedDialogs","SuspendedProfile","SuspendedChatPage","App","initializeApp","exact","path","render","app","rootReducer","combineReducers","dialogsPage","profileReducer","AuthReducer","chat","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","profileAPI","put","photoFile","formData","FormData","append","profile","postsData","likesCount","addPostActionCreator","deletePost","setProfile","setUserStatus","setUserPhoto","getUserProfile","getUserStatus","updateUserStatus","savePhoto","file","saveProfile","getState","Error","Promise","reject","maxLengthCreator","maxLength","preloader"],"mappings":"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","file":"static/js/main.dfd4d11e.chunk.js","sourcesContent":["import styles from './FormsControl.module.css'\r\nimport React from \"react\"\r\nimport {WrappedFieldMetaProps} from \"redux-form\"\r\n\r\n\r\ntype ElementPropsType = {\r\n  meta: WrappedFieldMetaProps\r\n  input: {}\r\n}\r\n\r\ntype ElementType = (props: ElementPropsType) => React.ReactNode\r\n\r\nexport const Element = (Element: string): ElementType => ({input, meta, ...props}) => {\r\n  const hasError = meta.touched && meta.error\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n      <div >\r\n        {hasError ? <span className={styles.messageError}>{hasError}</span> : ''}\r\n      </div>\r\n      <Element {...input} {...props} />\r\n    </div>\r\n  )\r\n}","export default \"data:image/png;base64,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\"","import {InferActionsTypes} from './redux-store'\r\n\r\n\r\nexport const actionCreators = {\r\n    newMessageAC : (newMessage: string) => ({type: 'ADD-MESSAGE', newMessage} as const)\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionTypes = InferActionsTypes<typeof actionCreators>\r\n\r\nlet initialState = {\r\n    dialogsData : [\r\n        {id:1, name: \"Valera\"},\r\n        {id:2, name: \"Misha\"},\r\n        {id:3, name: \"Dasha\"},\r\n        {id:4, name: \"Marta\"},\r\n        {id:5, name: \"Dima\"},\r\n    ],\r\n    messagesData : [\r\n        {id:1, message: \"Hi\"},\r\n        {id:2, message: \"How are you?\"},\r\n        {id:3, message: \"Hello\"},\r\n        {id:4, message: \"Do you ok?\"},\r\n        {id:5, message: \"Yo\"},\r\n    ],\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState , action: ActionTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'ADD-MESSAGE':\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id: 6, message: action.newMessage}],\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default dialogsReducer","export type MessageTypeAPI = {\r\n  message: string\r\n  photo: string\r\n  userId: number\r\n  userName: string\r\n}\r\nexport type StatusType = 'pending' | 'ready' | 'error'\r\n\r\ntype MessagesReceivedSubscriberType = (messages: MessageTypeAPI[]) => void\r\ntype StatusChangedSubscriberType = (status: StatusType) => void\r\n\r\nlet subscribers = {\r\n  'messages-received': [] as MessagesReceivedSubscriberType[],\r\n  'status-changed': [] as StatusChangedSubscriberType[]\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\ntype EventsNamesType = 'messages-received' | 'status-changed'\r\n\r\nfunction notifySubscribersAboutStatus (status: StatusType) {\r\n  subscribers['status-changed'].forEach(s => s(status))\r\n} \r\n\r\nfunction createChannel () {\r\n  cleanUp()\r\n  ws?.close()\r\n  ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n  notifySubscribersAboutStatus('pending')\r\n  ws.addEventListener('close', closeHandler)\r\n  ws.addEventListener('message', messageHandler)\r\n  ws.addEventListener('open', openHandler)\r\n  ws.addEventListener('error', errorHandler)\r\n} \r\n\r\nfunction closeHandler() {\r\n  console.log('Web Socket closed')\r\n  notifySubscribersAboutStatus('pending')\r\n  setTimeout(createChannel, 3000)      \r\n}\r\n\r\nfunction messageHandler (e: MessageEvent) {\r\n  const newMessages = JSON.parse(e.data)\r\n  subscribers['messages-received'].forEach(s => s(newMessages))\r\n}  \r\n\r\nfunction openHandler() {\r\n  notifySubscribersAboutStatus('ready')\r\n}\r\n\r\nfunction errorHandler() {\r\n  notifySubscribersAboutStatus('error')\r\n}\r\n\r\nfunction cleanUp() {\r\n  ws?.removeEventListener('close', closeHandler)\r\n  ws?.removeEventListener('message', messageHandler)\r\n  ws?.removeEventListener('open', openHandler)\r\n  ws?.removeEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n  start() {    \r\n    createChannel()\r\n  },\r\n  stop() {\r\n    subscribers['messages-received'] = []\r\n    subscribers['status-changed'] = []\r\n    ws?.close()\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n  },\r\n  subscribe(event: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) { \r\n    // @ts-ignore   \r\n    subscribers[event].push(callback)\r\n    return () => {\r\n      // @ts-ignore\r\n      subscribers[event] = subscribers[event].filter(s => s !== callback)\r\n    }\r\n  },\r\n  unsubscribe(event: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n    // @ts-ignore\r\n    subscribers[event] = subscribers[event].filter(s => s !== callback)\r\n  },\r\n  sendMessage(message: string) {\r\n    ws?.send(message)\r\n  }\r\n}","import {stopSubmit} from 'redux-form'\r\nimport {BaseThunkType, InferActionsTypes} from './redux-store'\r\nimport { chatAPI, MessageTypeAPI, StatusType } from '../API/chat-api'\r\nimport { Dispatch } from 'redux'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actionCreators>\r\ntype ThunkType = BaseThunkType<ActionsTypes | ReturnType<typeof stopSubmit>>\r\nexport type MessageType = MessageTypeAPI & {id: string}\r\n\r\nconst initialState = {\r\n  messages: [] as MessageType[],\r\n  status: 'ready' as StatusType  \r\n}\r\n\r\nconst chatReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'SET_MESSAGES': {\r\n      return {...state, \r\n        messages: [...state.messages, ...action.payload.messages]\r\n        .map( el => ({...el, id: uuidv4()}) )\r\n        .filter((el, index, array) => index > array.length - 100)\r\n      }\r\n    }\r\n    case 'SET_STATUS': {\r\n      return {...state, \r\n        status: action.payload.status}\r\n    }\r\n    case 'CLEAR_MESSAGES': {\r\n      return {\r\n        ...state, \r\n        messages: []\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const actionCreators = {\r\n  setMessages: (messages: MessageTypeAPI[]) => ({\r\n    type: 'SET_MESSAGES',\r\n    payload: {messages}\r\n  } as const),\r\n  setStatus: (status: StatusType) => ({\r\n    type: 'SET_STATUS',\r\n    payload: {status}\r\n  } as const),\r\n  clearMessages: () => ({\r\n    type: 'CLEAR_MESSAGES'\r\n  } as const) \r\n}\r\n\r\nlet _newMessagesHandler: ((messages: MessageTypeAPI[]) => void) | null = null\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n  if (_newMessagesHandler === null) {\r\n    _newMessagesHandler = (messages) => {\r\n      dispatch(actionCreators.setMessages(messages))\r\n    }\r\n  } \r\n  return _newMessagesHandler\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n  if (_statusChangedHandler === null) {\r\n    _statusChangedHandler = (status) => {\r\n      dispatch(actionCreators.setStatus(status))\r\n    }\r\n  } \r\n  return _statusChangedHandler\r\n}\r\n\r\nexport const getMessages = (): ThunkType => {\r\n  return async (dispatch) => {    \r\n    chatAPI.start()\r\n    chatAPI.subscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n  }\r\n}\r\n\r\nexport const stopGetMessages = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    chatAPI.unsubscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n    chatAPI.unsubscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n    dispatch(actionCreators.clearMessages())\r\n  }\r\n}\r\n\r\nexport const sendMessage = (message: string): ThunkType => {\r\n  return async (dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n  }\r\n}\r\n\r\nexport default chatReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__b9Z8A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav___OGgv\",\"nav__list\":\"Navbar_nav__list__2ju-E\",\"nav__list_active\":\"Navbar_nav__list_active__3QTAh\",\"item\":\"Navbar_item__1RD7Y\",\"activeLink\":\"Navbar_activeLink__3aGlr\",\"burger\":\"Navbar_burger__1K6LA\",\"burger_active\":\"Navbar_burger_active__l_5Of\"};","import axios from 'axios'\r\n\r\n\r\nexport const instance = axios.create({\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': '4d4ce820-d6cb-4d21-ba42-f4ed879e398c'\r\n  }\r\n})\r\n\r\nexport enum ResultCodesEnum {\r\n  Success = 0,\r\n  Error = 1,\r\n}\r\nexport enum ResultCodeWithCaptchaEnum {\r\n  WithCaptcha = 10\r\n}\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n  data: D\r\n  resultCode: RC\r\n  messages: Array<string>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__1oPjP\",\"user\":\"Users_user__15ucH\",\"img__container\":\"Users_img__container__LQcGX\",\"user__img\":\"Users_user__img___uk8y\",\"user__info\":\"Users_user__info__2zaZf\",\"user__name\":\"Users_user__name__AWlJ1\",\"user__status\":\"Users_user__status__2wIMT\",\"btn\":\"Users_btn__FF7ja\",\"btn__pages\":\"Users_btn__pages__PmE0c\",\"selectorNumbers\":\"Users_selectorNumbers__3UqtQ\",\"selectedPage\":\"Users_selectedPage__iSLQS\",\"unselectedPage\":\"Users_unselectedPage__821Dv\"};","import React, { useEffect, useState } from 'react'\r\nimport classes from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar:React.FC = () => {\r\n\r\n  const [activeMenu, setActiveMenu] = useState(false)\r\n\r\n  return (\r\n    <div className={classes.nav}>\r\n      <button className={activeMenu ? classes.burger_active : classes.burger}\r\n       onClick={() => setActiveMenu(!activeMenu)}>\r\n        <span></span></button>\r\n      <NavbarList activeMenu={activeMenu} setActiveMenu={setActiveMenu}/>\r\n    </div>    \r\n  )\r\n}\r\n\r\ntype PropsType = {\r\n  activeMenu: boolean\r\n  setActiveMenu: (active: boolean) => void\r\n}\r\n\r\nconst NavbarList:React.FC<PropsType> = ({activeMenu, setActiveMenu}) => {\r\n\r\n  return (\r\n    <nav className={activeMenu ? classes.nav__list_active : classes.nav__list}\r\n      onClick={() => setActiveMenu(false)} >      \r\n      <div className={classes.item}>\r\n        <NavLink to=\"/chat\" activeClassName={classes.activeLink}>Chat</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport classes from './Music.module.css'\r\n\r\nconst Music: React.FC = (props) => {\r\n  return <div>\r\n    Music\r\n  </div>\r\n}\r\n\r\nexport default Music","import React from 'react'\r\nimport classes from './News.module.css'\r\n\r\nconst News: React.FC = (props) => {\r\n  return <div>\r\n    News\r\n  </div>\r\n}\r\n\r\nexport default News","import React from 'react'\r\nimport classes from './Settings.module.css'\r\n\r\n\r\n\r\nconst Settings: React.FC = (props) => {\r\n  return <div>\r\n    Settings\r\n  </div>\r\n}\r\n\r\nexport default Settings","import React from 'react'\r\nimport classes from './Users.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport user__img from '../../img/users/user.png'\r\nimport {UserDataType} from '../../types/Types'\r\n\r\n\r\ntype UserPropsType = {\r\n  user: UserDataType\r\n  followInProgress: Array<number>\r\n  follow: (userId: number) => void\r\n  unfollow: (userId: number) => void\r\n}\r\n\r\nconst User: React.FC<UserPropsType> = (props) => {\r\n  return (\r\n    <div className={classes.container}>\r\n      <div className={classes.user}>\r\n        <div className={classes.img__container}>\r\n          <NavLink to={'/profile/' + props.user.id}>\r\n            <div>\r\n              <img className={classes.user__img}\r\n                   src={props.user.photos.small ? props.user.photos.small : user__img} alt=\"\"/>\r\n            </div>\r\n          </NavLink>\r\n          <div>\r\n            {props.user.followed\r\n              ? <button className={classes.btn}\r\n                        disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                        onClick={() => {\r\n                          props.unfollow(props.user.id)\r\n                        }}>Unfollow</button>\r\n              : <button className={classes.btn}\r\n                        disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                        onClick={() => {\r\n                          props.follow(props.user.id)\r\n                        }}>Follow</button>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className={classes.user__info}>\r\n          <div className={classes.user__info__item}>\r\n            <div className={classes.user__name}>\r\n              {props.user.name}\r\n            </div>\r\n            <div className={classes.user__status}>\r\n              {props.user.status}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User","import React, {useState} from 'react'\r\nimport classes from './Users.module.css'\r\n\r\ntype PropsType = {\r\n  totalUsers: number\r\n  usersOnPage: number\r\n  portionSize: number\r\n  currentPage: number\r\n  onPageChanged: (p: number) => void\r\n}\r\n\r\n\r\nlet Paginator: React.FC<PropsType> = (props) => {\r\n\r\n  const pagesCount = Math.ceil(props.totalUsers / props.usersOnPage)\r\n  const portionCount = Math.ceil(pagesCount/props.portionSize)\r\n\r\n  let pages = []\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  let [portionNumber, setPortionNumber] = useState(Math.ceil(props.currentPage/props.portionSize))\r\n  const leftPage = props.portionSize * (portionNumber - 1) + 1\r\n  const rightPage = props.portionSize * portionNumber\r\n\r\n  return(\r\n    <div className={classes.selectorNumbers}>\r\n      { portionNumber > 1 && <span className={classes.btn__pages}\r\n                                   onClick={ () => setPortionNumber(portionNumber - 1)}>...</span>\r\n      }\r\n\r\n      {pages\r\n        .filter(p => p >= leftPage && p <= rightPage)\r\n        .map(p => {\r\n          return <span className={props.currentPage === p ? classes.selectedPage : classes.unselectedPage}\r\n                       key={p}\r\n                       onClick={ () => {props.onPageChanged(p)} }>{p}</span>\r\n        })}\r\n\r\n      { portionNumber < portionCount && <span className={classes.btn__pages}\r\n                                              onClick={ () => setPortionNumber(portionNumber + 1) }>...</span>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator\r\n\r\n","import {AppStateType} from \"./redux-store\"\r\n\r\nexport const getUsersFilter = (state: AppStateType) => {\r\n  return state.usersPage.filter\r\n}\r\n\r\nexport const getUsersData = (state: AppStateType) => {\r\n  return state.usersPage.usersData\r\n}\r\n\r\nexport const getUsersOnPage = (state: AppStateType) => {\r\n  return state.usersPage.usersOnPage\r\n}\r\n\r\nexport const getTotalUsers = (state: AppStateType) => {\r\n  return state.usersPage.totalUsers\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowInProgress = (state: AppStateType) => {\r\n  return state.usersPage.followInProgress\r\n}\r\n","import React from \"react\"\r\nimport { Field, Form, Formik } from \"formik\"\r\nimport { FilterType } from \"../../redux/usersReducer\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { getUsersFilter } from \"../../redux/usersSelectors\"\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n  const errors = {}        \r\n  return errors\r\n}\r\n\r\ntype PropsType = {\r\n  onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\ntype FormType = {\r\n  term: string\r\n  friend: 'null' | 'true' | 'false'\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n\r\n  const filter = useSelector(getUsersFilter)\r\n  \r\n  const submit = (values: FormType, {setSubmitting}: {setSubmitting: (isSubmitting: boolean) => void}) => {  \r\n    const filter: FilterType = {\r\n      term: values.term,\r\n      friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n    }\r\n    props.onFilterChanged(filter)  \r\n    setSubmitting(false)      \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        enableReinitialize\r\n        initialValues={{term: filter.term, friend: String(filter.friend) as 'null' | 'true' | 'false'}}\r\n        validate={usersSearchFormValidate}\r\n        onSubmit={submit}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form style={{margin: '20px 0 0 20px'}}>\r\n            <Field type='text' name='term' style={{padding: '3px 6px', width: '230px'}}/>\r\n            <Field name='friend' as='select' style={{margin: '0 5px'}}>\r\n              <option value=\"null\">All</option>\r\n              <option value=\"true\">Only followed</option>\r\n              <option value=\"false\">Without followed</option>\r\n            </Field>            \r\n            <button type='submit' disabled={isSubmitting}>\r\n              Find\r\n            </button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  )\r\n})","import {instance, APIResponseType} from './api'\r\nimport {UserDataType} from '../types/Types'\r\n\r\ntype GetUsersResponseType = {\r\n  items: Array<UserDataType>\r\n  totalCount: number\r\n  error: string | null\r\n}\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, usersOnPage = 10, term: string = '', friend: null | boolean = null) {\r\n    return instance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${usersOnPage}&term=${term}` + (friend === null \r\n      ? '' : `&friend=${friend}`))\r\n      .then(response => response.data)\r\n  },\r\n  follow(userId: number) {\r\n    return instance.post<APIResponseType>(`follow/${userId}`, {})\r\n      .then(response => response.data)\r\n  },\r\n  unfollow(userId: number) {\r\n    return instance.delete<APIResponseType>(`follow/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n}","import {UserDataType} from '../types/Types'\r\nimport {BaseThunkType, InferActionsTypes} from './redux-store'\r\nimport {usersAPI} from '../API/users-api'\r\n\r\n\r\nconst initialState = {\r\n  usersData: [] as Array<UserDataType>,\r\n  usersOnPage: 30,\r\n  totalUsers: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followInProgress: [] as Array<number>,\r\n  filter: {\r\n    term: '',\r\n    friend: null as null | boolean\r\n  }\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\ntype ActionsTypes = InferActionsTypes<typeof actionCreators>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'FOLLOW':\r\n      return {\r\n        ...state,\r\n        usersData: state.usersData.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: true}\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case 'UNFOLLOW':\r\n      return {\r\n        ...state,\r\n        usersData: state.usersData.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: false}\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case 'SET_USERS':\r\n      return {\r\n        ...state,\r\n        usersData: [...action.users]\r\n      }\r\n    case 'SET_CURRENT_PAGE' :\r\n      return {\r\n        ...state,\r\n        currentPage: action.page\r\n      }\r\n    case 'SET_TOTAL_USERS' :\r\n      return {\r\n        ...state,\r\n        totalUsers: action.usersCount\r\n      }\r\n    case 'SET_TOGGLE' :\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case 'SET_FILTER' :\r\n      return {\r\n        ...state,\r\n        filter: action.payload.filter\r\n      }\r\n    case 'SET_TOGGLE_FOLLOW':\r\n      return {\r\n        ...state,\r\n        followInProgress: action.isFetching\r\n          ? [...state.followInProgress, action.userId]\r\n          : state.followInProgress.filter(id => id !== action.userId)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const actionCreators = {\r\n  followSuccess: (userId: number) => ({type: 'FOLLOW', userId} as const),\r\n  unfollowSuccess: (userId: number) => ({type: 'UNFOLLOW', userId} as const),\r\n  setUsers: (users: Array<UserDataType>) => ({type: 'SET_USERS', users} as const),\r\n  setCurrentPage: (page: number) => ({type: 'SET_CURRENT_PAGE', page} as const),\r\n  setTotalUsers: (usersCount: number) => ({type: 'SET_TOTAL_USERS', usersCount} as const),\r\n  setFilter: (filter: FilterType) => ({type: 'SET_FILTER', payload: {filter}} as const),\r\n  setToggle: (isFetching: boolean) => ({type: 'SET_TOGGLE', isFetching} as const),\r\n  setToggleFollow: (isFetching: boolean, userId: number) => ({type: 'SET_TOGGLE_FOLLOW', isFetching, userId} as const)\r\n}\r\n\r\n\r\nexport const getUsers = (page: number, usersOnPage: number, filter: FilterType): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setToggle(true))\r\n    dispatch(actionCreators.setCurrentPage(page))\r\n    dispatch(actionCreators.setFilter(filter))\r\n    const data = await usersAPI.getUsers(page, usersOnPage, filter.term, filter.friend)\r\n    dispatch(actionCreators.setUsers(data.items))\r\n    dispatch(actionCreators.setTotalUsers(data.totalCount))\r\n    dispatch(actionCreators.setToggle(false))\r\n  }\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setToggleFollow(true, userId))\r\n    const data = await usersAPI.follow(userId)\r\n    if (data.resultCode === 0) {\r\n      dispatch(actionCreators.followSuccess(userId))\r\n    }\r\n    dispatch(actionCreators.setToggleFollow(false, userId))\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setToggleFollow(true, userId))\r\n    const data = await usersAPI.unfollow(userId)\r\n    if (data.resultCode === 0) {\r\n      dispatch(actionCreators.unfollowSuccess(userId))\r\n    }\r\n    dispatch(actionCreators.setToggleFollow(false, userId))\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n\r\n","import React, {useEffect} from 'react'\r\nimport User from './User'\r\nimport Paginator from './Paginator'\r\nimport {UsersSearchForm} from './UsersSearchForm'\r\nimport {\r\n  FilterType,\r\n  follow,\r\n  getUsers,\r\n  unfollow,\r\n} from '../../redux/usersReducer'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {\r\n  getCurrentPage,\r\n  getFollowInProgress,\r\n  getTotalUsers,\r\n  getUsersData,\r\n  getUsersFilter,\r\n  getUsersOnPage,\r\n} from '../../redux/usersSelectors'\r\nimport {useHistory} from 'react-router'\r\n\r\nexport const Users: React.FC = React.memo((props) => {\r\n  const usersOnPage = useSelector(getUsersOnPage)\r\n  const usersData = useSelector(getUsersData)\r\n  const totalUsers = useSelector(getTotalUsers)\r\n  const currentPage = useSelector(getCurrentPage)\r\n  const followInProgress = useSelector(getFollowInProgress)\r\n  const filter = useSelector(getUsersFilter)\r\n\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    const URLParams = new URLSearchParams(history.location.search)\r\n    let actualPage = currentPage\r\n    let actualFilter = filter\r\n\r\n    if (!!URLParams.get('page')) actualPage = Number(URLParams.get('page'))\r\n    if (!!URLParams.get('term'))\r\n      actualFilter = {...actualFilter, term: URLParams.get('term') as string}\r\n    if (!!URLParams.get('friend'))\r\n      actualFilter = {\r\n        ...actualFilter,\r\n        friend:\r\n          URLParams.get('friend') === 'null'\r\n            ? null\r\n            : URLParams.get('friend') === 'true'\r\n              ? true\r\n              : false,\r\n      }\r\n\r\n    dispatch(getUsers(actualPage, usersOnPage, actualFilter))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    history.push({\r\n      pathname: '/users',\r\n      search: `?term=${filter.term}&friend=${filter.friend}&page=${currentPage}`,\r\n    })\r\n  }, [filter, currentPage])\r\n\r\n  const onFilterChanged = (filter: FilterType) => {\r\n    dispatch(getUsers(1, usersOnPage, filter))\r\n  }\r\n  const onPageChanged = (page: number) => {\r\n    dispatch(getUsers(page, usersOnPage, filter))\r\n  }\r\n  const followUser = (userId: number) => {\r\n    dispatch(follow(userId))\r\n  }\r\n  const unfollowUser = (userId: number) => {\r\n    dispatch(unfollow(userId))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n\r\n      <Paginator\r\n        usersOnPage={usersOnPage}\r\n        totalUsers={totalUsers}\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        portionSize={15}\r\n      />\r\n\r\n      { usersData.length\r\n        ? (usersData.map((u) => (\r\n            <User\r\n              user={u}\r\n              key={u.id}\r\n              followInProgress={followInProgress}\r\n              follow={followUser}\r\n              unfollow={unfollowUser}\r\n            />\r\n          )))\r\n        : <h1 style={{textAlign: 'center'}}>Users not found</h1>\r\n      }\r\n\r\n      <Paginator\r\n        usersOnPage={usersOnPage}\r\n        totalUsers={totalUsers}\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        portionSize={15}\r\n      />\r\n    </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport {Users} from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport {getIsFetching} from '../../redux/usersSelectors'\r\n\r\n\r\nexport const UsersPage:React.FC = React.memo((props) => {\r\n  \r\n  const isFetching = useSelector(getIsFetching)\r\n\r\n  return (\r\n  <>\r\n    {isFetching ? <Preloader /> : null}\r\n    <Users />    \r\n  </>\r\n)\r\n})\r\n\r\n\r\n","import React from 'react'\r\nimport classes from './Header.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\ntype MapPropsType = {\r\n  userAva: string | null\r\n  isAuth: boolean\r\n  login: string | null\r\n}\r\ntype DispatchPropsType = {\r\n  logout: () => void\r\n}\r\n\r\nconst Header: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n\r\n  return <header className={classes.header}>\r\n    <div className={classes.auth__block}>\r\n      {props.isAuth\r\n        ? <div className={classes.login__container}>\r\n          <NavLink to={'/profile/'}>\r\n            {props.userAva && <span><img className={classes.user__ava} src={props.userAva} alt=\"\"/></span>}\r\n          </NavLink>\r\n          <div className={classes.login}>\r\n            <div>{props.login}</div>\r\n            <button className={classes.btn} onClick={props.logout}>Logout</button>\r\n          </div>\r\n          </div>\r\n        : <div>\r\n          <NavLink className={classes.login} to={'/login'}>Login</NavLink>\r\n        </div>}\r\n    </div>\r\n  </header>\r\n}\r\n\r\nexport default Header","import {APIResponseType, instance, ResultCodesEnum, ResultCodeWithCaptchaEnum} from './api'\r\n\r\ntype AuthResponseType = {\r\n  id: number | null\r\n  email: string\r\n  login: string\r\n}\r\ntype LoginResponseType = {\r\n  userId: number | null\r\n}\r\n\r\nexport const authAPI = {\r\n  getAuth() {\r\n    return instance.get<APIResponseType<AuthResponseType>>(`auth/me`)\r\n      .then(response => response.data)\r\n  },\r\n  login(email: string, password: string, rememberMe = false, captcha: string | null = null) {\r\n    return instance.post<APIResponseType<LoginResponseType, ResultCodesEnum | ResultCodeWithCaptchaEnum>>\r\n    (`auth/login`, {email, password, rememberMe, captcha})\r\n      .then(response => response.data)\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n      .then(response => response.data)\r\n  }\r\n}","import {instance} from './api'\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n  url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`)\r\n      .then(response => response.data)\r\n  }\r\n}","import {ResultCodesEnum, ResultCodeWithCaptchaEnum} from '../API/api'\r\nimport {stopSubmit} from 'redux-form'\r\nimport {actionCreatorsProfile} from './profileReducer'\r\nimport {BaseThunkType, InferActionsTypes} from './redux-store'\r\nimport {authAPI} from '../API/auth-api'\r\nimport {securityAPI} from '../API/security-api'\r\n\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actionCreators>\r\ntype ThunkType = BaseThunkType<ActionsTypes | ReturnType<typeof stopSubmit>>\r\n\r\nlet initialState = {\r\n  userId: null as number | null,\r\n  login: null as string | null,\r\n  email: null as string | null,\r\n  isAuth: false,\r\n  captchaUrl: null as string | null\r\n}\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'AUTH__USER':\r\n    case 'CAPTCHA__URL': {\r\n\r\n      return {...state, ...action.data}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const actionCreators = {\r\n  setAuthUser : (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: 'AUTH__USER',\r\n    data: {userId, email, login, isAuth}\r\n  } as const),\r\n  setCaptchaUrl : (captchaUrl: string | null) => ({\r\n    type: 'CAPTCHA__URL',\r\n    data: {captchaUrl}\r\n  } as const)\r\n}\r\n\r\nexport const getAuthUser = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    const data = await authAPI.getAuth()\r\n    if (!data.resultCode) {\r\n      let {id, email, login} = data.data\r\n      dispatch(actionCreators.setAuthUser(id, email, login, true))\r\n    }\r\n  }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n      dispatch(getAuthUser())\r\n    } else {\r\n      if (response.resultCode === ResultCodeWithCaptchaEnum.WithCaptcha) dispatch(getCaptchaUrl())\r\n      let message = response.messages.length > 0 ? response.messages[0] : 'Some error'\r\n      dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.url\r\n    dispatch(actionCreators.setCaptchaUrl(captchaUrl))\r\n  }\r\n}\r\n\r\nexport const logout = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n    if (!response.resultCode) {\r\n      dispatch(actionCreators.setAuthUser(null, null, null, false))\r\n      dispatch(actionCreatorsProfile.setUserAva(null))\r\n    }\r\n  }\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\nimport Header from './Header'\r\nimport {logout} from '../../redux/authReducer'\r\nimport {connect} from 'react-redux'\r\nimport {getUserAva} from '../../redux/profileReducer'\r\nimport {AppStateType} from '../../redux/redux-store'\r\n\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n\r\n  refreshHeader() {\r\n    let userId = this.props.userId\r\n    if (userId != null) this.props.getUserAva(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshHeader()\r\n  }\r\n\r\n  componentDidUpdate(prevProps: PropsType) {\r\n    if (this.props.userId !== prevProps.userId) {\r\n      this.refreshHeader()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\ntype MapPropsType = {\r\n  userId: number | null\r\n  userAva: string | null\r\n  isAuth: boolean\r\n  login: string | null\r\n}\r\ntype DispatchPropsType = {\r\n  getUserAva: (userId: number) => void\r\n  logout: () => void\r\n}\r\ntype PropsType = MapPropsType & DispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n  userId: state.authUser.userId,\r\n  isAuth: state.authUser.isAuth,\r\n  login: state.authUser.login,\r\n  userAva: state.profilePage.userAva\r\n} )\r\n\r\nexport default connect<MapPropsType, DispatchPropsType, {}, AppStateType>(\r\n  mapStateToProps, {logout, getUserAva})(HeaderContainer)","import React from 'react'\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form'\r\nimport {Element} from '../common/FormsControl/FormsControl'\r\nimport {required} from '../utilities/validators'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {login} from '../../redux/authReducer'\r\nimport {Redirect} from 'react-router-dom'\r\nimport styles from './../common/FormsControl/FormsControl.module.css'\r\nimport {AppStateType} from '../../redux/redux-store'\r\n\r\nconst Input = Element('input')\r\n\r\ntype LoginFormOwnProps = {\r\n  captchaUrl: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps> = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field placeholder=\"email\" name=\"email\" component={Input} validate={[required]}/>\r\n      </div>\r\n      <div>\r\n        <Field\r\n          placeholder=\"password\" name=\"password\" component={Input} validate={[required]} type=\"password\"/>\r\n      </div>\r\n      <div className={styles.rememberMe}>\r\n        <span>remember me</span> <Field type=\"checkbox\" name=\"rememberMe\" component={Input}/>\r\n      </div>\r\n      <div>\r\n        {props.error && <span className={styles.sumError}>{props.error}</span>}\r\n      </div>\r\n      <div>\r\n        {props.captchaUrl && <span><img src={props.captchaUrl} alt=\"\"/></span>}\r\n        {props.captchaUrl && <div>\r\n            <Field placeholder=\"enter symbols\" name=\"captcha\" component={Input} validate={[required]}/>\r\n        </div>}\r\n      </div>\r\n      <div className={styles.btn}>\r\n        <button className={styles.btn}>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginFormRedux = reduxForm<LoginFormValuesType, LoginFormOwnProps>({\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\ntype LoginFormValuesType = {\r\n  email: string\r\n  password: string\r\n  rememberMe: boolean\r\n  captcha: string\r\n}\r\n\r\nexport const LoginPage: React.FC = (props) => {\r\n\r\n  const captchaUrl = useSelector((state: AppStateType) => state.authUser.captchaUrl)\r\n  const isAuth = useSelector((state: AppStateType) => state.authUser.isAuth)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onSubmit = ({email, password, rememberMe, captcha}: LoginFormValuesType) => {\r\n    dispatch(login(email, password, rememberMe, captcha))\r\n  }\r\n\r\n  if (isAuth) return <Redirect to={'/profile'}/>\r\n\r\n  return (\r\n    <div className={styles.login}>\r\n      <h1>Login</h1>\r\n      <LoginFormRedux onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n    </div>\r\n  )\r\n}\r\n","import {getAuthUser} from './authReducer'\r\nimport {BaseThunkType, InferActionsTypes} from './redux-store'\r\n\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actionCreators>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nconst appReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'SET__INITIALIZED': {\r\n      return {...state, initialized: true}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const actionCreators = {\r\n  setInitialized : () => ({type: 'SET__INITIALIZED'} as const)\r\n}\r\n\r\nexport const initializeApp = (): ThunkType => async (dispatch) => {\r\n  await dispatch(getAuthUser())\r\n  dispatch(actionCreators.setInitialized())\r\n}\r\n\r\nexport default appReducer","import React from \"react\"\r\n\r\n\r\nexport function withSuspense<WCP>(Component: React.ComponentType<WCP>) {\r\n  return (props: WCP) => {\r\n    return (\r\n      <React.Suspense fallback={<div>Loading...</div>}>\r\n        <Component {...props} />\r\n      </React.Suspense>)\r\n  }\r\n}","import './App.css'\r\nimport Navbar from './components/Navbar/Navbar'\r\nimport Music from './components/Music/Music'\r\nimport News from './components/News/News'\r\nimport Settings from './components/Settings/Settings'\r\nimport {Redirect, Route, Switch} from 'react-router-dom'\r\nimport React, {Component} from 'react'\r\nimport { UsersPage } from './components/Users/UsersPage'\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport {LoginPage} from './components/Login/Login'\r\nimport {connect} from 'react-redux'\r\nimport {initializeApp} from './redux/appReducer'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\nimport {withSuspense} from './components/HOC/withSuspense'\r\nimport {AppStateType} from './redux/redux-store'\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ChatPage = React.lazy(() => import('./components/Chat/ChatPage'))\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = { initializeApp: () => void }\r\n\r\nconst SuspendedDialogs = withSuspense(DialogsContainer)\r\nconst SuspendedProfile = withSuspense(ProfileContainer)\r\nconst SuspendedChatPage = withSuspense(ChatPage)\r\n\r\nclass App extends Component <MapPropsType & DispatchPropsType> {\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) return <Preloader />\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer/>\r\n        <Navbar/>\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            <Route exact path=\"/\" render={() => <Redirect to=\"/profile\"/>} />\r\n            <Route path=\"/dialogs\" render={() => <SuspendedDialogs/>} />\r\n            <Route path=\"/profile/:userId?\" render={() => <SuspendedProfile/>} />\r\n            <Route path=\"/chat\" render={() => <SuspendedChatPage/>} />\r\n            <Route path=\"/users\" render={() => <UsersPage/>} />\r\n            <Route path=\"/login\" render={() => <LoginPage/>} />\r\n            <Route path=\"/music\" component={Music} />\r\n            <Route path=\"/news\" component={News} />\r\n            <Route path=\"/settings\" component={Settings} />\r\n            <Route path=\"*\" render={() => <div>404 page not found</div>} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nexport default connect(mapStateToProps, {initializeApp})(App)\r\n\r\n","import {Action, applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport profileReducer from './profileReducer'\r\nimport usersReducer from './usersReducer'\r\nimport AuthReducer from './authReducer'\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\r\nimport appReducer from './appReducer'\r\nimport chatReducer from './chatReducer'\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n  dialogsPage: dialogsReducer,\r\n  profilePage: profileReducer,\r\n  usersPage: usersReducer,\r\n  authUser: AuthReducer,\r\n  chat: chatReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(rootReducer, composeEnhancers((applyMiddleware(thunkMiddleware))))\r\n\r\n//let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport default store","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport store from './redux/redux-store'\r\nimport {HashRouter} from 'react-router-dom'\r\nimport {Provider} from 'react-redux'\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <App/>\r\n    </Provider>\r\n  </HashRouter>\r\n  , document.getElementById('root')\r\n)\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__dh-kE\",\"error\":\"FormsControl_error__24G2O\",\"messageError\":\"FormsControl_messageError__TPKqR\",\"sumError\":\"FormsControl_sumError__2MSVJ\",\"btn\":\"FormsControl_btn__3U8gx\",\"rememberMe\":\"FormsControl_rememberMe__2IuLK\",\"login\":\"FormsControl_login__2pFFY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__25mc3\",\"auth__block\":\"Header_auth__block__MF3B-\",\"login__container\":\"Header_login__container__HDO5a\",\"login\":\"Header_login__2aFvp\",\"btn\":\"Header_btn__1KBL-\",\"user__ava\":\"Header_user__ava__3hw5e\"};","import {PhotosType, ProfileType} from '../types/Types'\r\nimport {instance, APIResponseType} from './api'\r\n\r\n\r\ntype SavePhotoResponseType = {\r\n  photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId: number | null) {\r\n    return instance.get<ProfileType>(`profile/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n  getUserStatus(userId: number) {\r\n    return instance.get<string>(`profile/status/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n  updateUserStatus(status: string) {\r\n    return instance.put<APIResponseType>(`profile/status`, {status: status})\r\n  },\r\n  savePhoto(photoFile: any) {\r\n    const formData = new FormData()\r\n    formData.append('image', photoFile)\r\n    return instance.put<APIResponseType<SavePhotoResponseType>>('profile/photo', formData,\r\n      {headers: {'Content-Type': 'multipart/form-data'}})\r\n  },\r\n  saveProfile(profile: ProfileType) {\r\n    return instance.put<APIResponseType>(`profile`, profile)\r\n  },\r\n}","import {stopSubmit} from 'redux-form'\r\nimport {PhotosType, PostDataType, ProfileType} from '../types/Types'\r\nimport {AppStateType, BaseThunkType, InferActionsTypes} from './redux-store'\r\nimport {profileAPI} from '../API/profile-api'\r\n\r\n\r\nlet initialState = {\r\n  postsData: [\r\n    {id: 1, message: 'Why is it so difficult?', likesCount: 221},\r\n    {id: 2, message: 'I learn English sometimes', likesCount: 85},\r\n    {id: 3, message: 'Good morning night city ', likesCount: 4},\r\n    {id: 4, message: 'I played football every day ', likesCount: 33},\r\n    {id: 5, message: 'I\\'m twenty_five ', likesCount: 15},\r\n  ] as Array<PostDataType>,\r\n  profile: null as ProfileType | null,\r\n  userAva: null as string | null,\r\n  status: ''\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actionCreatorsProfile>\r\ntype ThunkType = BaseThunkType<ActionsTypes | ReturnType<typeof stopSubmit>>\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'ADD_POST': {\r\n      return {\r\n        ...state,\r\n        postsData: [...state.postsData, {id: 6, message: action.newMessage, likesCount: 0}]\r\n      }\r\n    }\r\n    case 'SET_PROFILE': {\r\n      return {...state, profile: action.profile}\r\n    }\r\n    case 'SET_USER_AVA': {\r\n      if (!action.profile) return {...state, userAva: null}\r\n      return {...state, userAva: action.profile.photos.small}\r\n    }\r\n    case 'SET_USER_STATUS': {\r\n      return {...state, status: action.status}\r\n    }\r\n    case 'DELETE_POST': {\r\n      return {...state, postsData: state.postsData.filter(post => post.id !== action.id)}\r\n    }\r\n    case 'SET_USER_PHOTO': {\r\n      return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const actionCreatorsProfile = {\r\n  addPostActionCreator: (newMessage: string) => {return {type: 'ADD_POST', newMessage} as const},\r\n  deletePost: (id: number) => {return {type: 'DELETE_POST', id} as const},\r\n  setProfile: (profile: ProfileType) => ({type: 'SET_PROFILE', profile} as const),\r\n  setUserAva: (profile: ProfileType | null) => ({type: 'SET_USER_AVA', profile} as const),\r\n  setUserStatus: (status: string) => ({type: 'SET_USER_STATUS', status} as const),\r\n  setUserPhoto: (photos: PhotosType) => ({type: 'SET_USER_PHOTO', photos} as const)\r\n}\r\n\r\nexport const getUserProfile = (userId: number | null): ThunkType => {\r\n  return async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId)\r\n    dispatch(actionCreatorsProfile.setProfile(data))\r\n  }\r\n}\r\n\r\nexport const getUserAva = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId)\r\n    dispatch(actionCreatorsProfile.setUserAva(response))\r\n  }\r\n}\r\n\r\nexport const getUserStatus = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.getUserStatus(userId)\r\n    dispatch(actionCreatorsProfile.setUserStatus(response))\r\n  }\r\n}\r\n\r\nexport const updateUserStatus = (status: string): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.updateUserStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actionCreatorsProfile.setUserStatus(status))\r\n    }\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actionCreatorsProfile.setUserPhoto(response.data.data.photos))\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    const userId = getState().authUser.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n      if (userId !== null) {\r\n        dispatch(getUserProfile(userId))\r\n      } else {\r\n        throw new Error('userId can not be null')\r\n      }\r\n    } else {\r\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n      dispatch(stopSubmit('editProfile', {_error: message}))\r\n      return Promise.reject(message)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default profileReducer","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n  if (value) return undefined\r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n  return undefined\r\n}","export default __webpack_public_path__ + \"static/media/preloader.f0d23fa2.svg\";","import React from 'react'\r\nimport preloader from \"../../../img/users/preloader.svg\"\r\nimport classes from './Preloader.module.css'\r\n\r\nconst Preloader: React.FC = () => {\r\n    return <div className={classes.preloader}>\r\n         <img src={preloader} alt=\"\" />\r\n    </div>\r\n}\r\n\r\nexport default Preloader"],"sourceRoot":""}