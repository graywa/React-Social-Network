{"version":3,"sources":["components/HOC/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","redux/store.js","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","authUser","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","path","id","className","classes","dialog","active","name","Message","message","store","_state","profilePage","postsData","likesCount","newPostText","dialogsPage","dialogsData","newUser","messagesData","newMessageText","_callSubscriber","getState","subscribe","observer","dispatch","action","profileReducer","dialogsReducer","type","push","newText","window","TextArea","Element","maxLength14","maxLengthCreator","MessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","required","Dialogs","dialogsElements","map","messagesElements","dialogs","messages","values","sendMessage","newMessage","compose","newMessageActionCreator"],"mappings":"4NAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,SAASD,SAGdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGnC,OAAIC,KAAKC,MAAMN,OACR,cAACG,EAAD,eAAeE,KAAKC,QADG,cAAC,IAAD,CAAUC,GAAI,eAHT,GACXC,IAAML,WAOtC,OADqCM,YAAQX,EAARW,CAAqCL,K,oBCd9EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,WAAa,4BAA4B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,MAAQ,yB,0FCWjOC,EARI,SAACN,GAClB,IAAIO,EAAO,YAAcP,EAAMQ,GAE/B,OAAO,qBAAKC,UAAWC,IAAQC,OAAS,IAAMD,IAAQE,OAA/C,SACL,cAAC,IAAD,CAASX,GAAIM,EAAb,SAAoBP,EAAMa,UCAfC,EAJC,SAACd,GACf,OAAO,qBAAKS,UAAWC,IAAQC,OAAxB,SAAiCX,EAAMe,W,QCE5CC,EAAQ,CACVC,OAAQ,CACNC,YAAa,CACXC,UAAW,CACT,CAACX,GAAI,EAAGO,QAAS,eAAgBK,WAAY,KAC7C,CAACZ,GAAI,EAAGO,QAAS,2BAA4BK,WAAY,IACzD,CAACZ,GAAI,EAAGO,QAAS,IAAKK,WAAY,GAClC,CAACZ,GAAI,EAAGO,QAAS,IAAKK,WAAY,IAClC,CAACZ,GAAI,EAAGO,QAAS,IAAKK,WAAY,KAEpCC,YAAa,YAEfC,YAAa,CACXC,YAAa,CACX,CAACf,GAAI,EAAGK,KAAM,UACd,CAACL,GAAI,EAAGK,KAAM,SACd,CAACL,GAAI,EAAGK,KAAM,SACd,CAACL,GAAI,EAAGK,KAAM,SACd,CAACL,GAAI,EAAGK,KAAM,SAEhBW,QAAS,OACTC,aAAc,CACZ,CAACjB,GAAI,EAAGO,QAAS,MACjB,CAACP,GAAI,EAAGO,QAAS,gBACjB,CAACP,GAAI,EAAGO,QAAS,SACjB,CAACP,GAAI,EAAGO,QAAS,cACjB,CAACP,GAAI,EAAGO,QAAS,OAEnBW,eAAgB,aAGpBC,gBA/BU,aAkCVC,SAlCU,WAmCR,OAAO7B,KAAKkB,QAEdY,UArCU,SAqCAC,GACR/B,KAAK4B,gBAAkBG,GAGzBC,SAzCU,SAyCDC,GAMP,GALAjC,KAAKkB,OAAOC,YAAce,YAAelC,KAAKkB,OAAOC,YAAac,GAClEjC,KAAKkB,OAAOK,YAAcY,YAAenC,KAAKkB,OAAOK,YAAaU,GAElEjC,KAAK4B,gBAAgB5B,KAAKkB,QAhDjB,aAkDLe,EAAOG,KAAmB,CAC5B,IAAIX,EAAU,CACZhB,GAAI,EACJK,KAAMd,KAAKkB,OAAOK,YAAYE,SAEhCzB,KAAKkB,OAAOK,YAAYC,YAAYa,KAAKZ,GACzCzB,KAAKkB,OAAOK,YAAYC,YAAYC,QAAU,OAzD5B,oBA2DTQ,EAAOG,OAChBpC,KAAKkB,OAAOK,YAAYE,QAAUQ,EAAOK,QACzCtC,KAAK4B,gBAAgB5B,KAAKkB,WAKhCqB,OAAOtB,MAAQA,EAEAA,I,kCC5DTuB,EAAWC,YAAQ,YAEnBC,EAAcC,YAAiB,IAmB/BC,EAAmBC,YAAU,CACjCC,KAAM,WADiBD,EAjBL,SAAC5C,GACnB,OACE,uBAAM8C,SAAU9C,EAAM+C,aAAtB,UACE,8BACE,cAACC,EAAA,EAAD,CACEnC,KAAK,aACLoC,UAAWV,EACXW,SAAU,CAACC,IAAUV,OAGzB,8BACE,kDA2COW,EAjCC,SAACpD,GAEf,IAAIP,EAAQO,EAAMsB,YAEd+B,EAAkB5D,EAAM8B,YACzB+B,KAAK,SAAA3C,GAAM,OAAI,cAAC,EAAD,CAAYE,KAAMF,EAAOE,KAAML,GAAIG,EAAOH,IAASG,EAAOH,OAExE+C,EAAmB9D,EAAMgC,aAC1B6B,KAAK,SAAAvC,GAAO,OAAI,cAAC,EAAD,CAASA,QAASA,EAAQA,SAAcA,EAAQP,OAMnE,OACE,sBAAKC,UAAWC,IAAQ8C,QAAxB,UACE,8BACE,8BACGH,MAGL,gCACE,qBAAK5C,UAAWC,IAAQ+C,SAAxB,SACGF,IAEH,cAACZ,EAAD,CACEG,SAhBY,SAACY,GACnB1D,EAAM2D,YAAYD,EAAOE,sB,yBCzBdC,sBACb1D,aAhBoB,SAACV,GACrB,MAAO,CACL6B,YAAa7B,EAAM6B,gBAIE,SAACS,GACxB,MAAO,CACL4B,YAAa,SAACC,GACZ7B,EAAS+B,YAAwBF,SAQrChE,IAFaiE,CAGbT","file":"static/js/4.5c9c88cf.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.authUser.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3yLRr\",\"dialogItem\":\"Dialogs_dialogItem__2rEid\",\"active\":\"Dialogs_active__2Dtta\",\"dialog\":\"Dialogs_dialog__1Sgp-\",\"messages\":\"Dialogs_messages__1znFC\",\"message\":\"Dialogs_message__2KJ3q\",\"users\":\"Dialogs_users__iVcZG\"};","import React from \"react\"\r\nimport classes from \"./../Dialogs.module.css\"\r\nimport {NavLink} from \"react-router-dom\"\r\n\r\nconst DialogItem = (props) => {\r\n  let path = \"/dialogs/\" + props.id;\r\n\r\n  return <div className={classes.dialog + \" \" + classes.active}>\r\n    <NavLink to={path}>{props.name}</NavLink>\r\n  </div>\r\n}\r\n\r\nexport default DialogItem","import React from \"react\"\r\nimport classes from \"./../Dialogs.module.css\"\r\n\r\n\r\nconst Message = (props) => {\r\n  return <div className={classes.dialog}>{props.message}</div>\r\n}\r\n\r\nexport default Message","import profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\n\r\nconst UPDATE_NEW_USER = 'UPDATE_NEW_USER',\r\n  ADD_USER = 'ADD_USER'\r\n\r\n\r\nlet store = {\r\n  _state: {\r\n    profilePage: {\r\n      postsData: [\r\n        {id: 1, message: \"Postim fignu\", likesCount: 221},\r\n        {id: 2, message: \"I lern English sometimes\", likesCount: 85},\r\n        {id: 3, message: \" \", likesCount: 4},\r\n        {id: 4, message: \" \", likesCount: 33},\r\n        {id: 5, message: \" \", likesCount: 15},\r\n      ],\r\n      newPostText: 'New Post',\r\n    },\r\n    dialogsPage: {\r\n      dialogsData: [\r\n        {id: 1, name: \"Valera\"},\r\n        {id: 2, name: \"Misha\"},\r\n        {id: 3, name: \"Dasha\"},\r\n        {id: 4, name: \"Marta\"},\r\n        {id: 5, name: \"Dima\"},\r\n      ],\r\n      newUser: 'User',\r\n      messagesData: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"Hello\"},\r\n        {id: 4, message: \"Do you ok?\"},\r\n        {id: 5, message: \"Yo\"},\r\n      ],\r\n      newMessageText: 'Hi dear!',\r\n    }\r\n  },\r\n  _callSubscriber() {\r\n  },\r\n\r\n  getState() {\r\n    return this._state;\r\n  },\r\n  subscribe(observer) {\r\n    this._callSubscriber = observer;\r\n  },\r\n\r\n  dispatch(action) {\r\n    this._state.profilePage = profileReducer(this._state.profilePage, action);\r\n    this._state.dialogsPage = dialogsReducer(this._state.dialogsPage, action);\r\n\r\n    this._callSubscriber(this._state);\r\n\r\n    if (action.type === ADD_USER) {\r\n      let newUser = {\r\n        id: 6,\r\n        name: this._state.dialogsPage.newUser,\r\n      }\r\n      this._state.dialogsPage.dialogsData.push(newUser);\r\n      this._state.dialogsPage.dialogsData.newUser = '';\r\n\r\n    } else if (action.type === UPDATE_NEW_USER) {\r\n      this._state.dialogsPage.newUser = action.newText;\r\n      this._callSubscriber(this._state);\r\n    }\r\n  }\r\n}\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport classes from \"./Dialogs.module.css\"\r\nimport {NavLink} from \"react-router-dom\"\r\nimport DialogItem from \"./DialogItem/DialogItem\"\r\nimport Message from \"./Message/Message\"\r\nimport { newUserCreator, updateNewUserCreator,} from '../../redux/store'\r\nimport {reduxForm, Field} from \"redux-form\"\r\nimport {required, maxLengthCreator} from \"../utilities/validators\"\r\nimport {Element} from \"../common/FormsControl/FormsControl\"\r\n\r\nconst TextArea = Element('textarea')\r\n\r\nconst maxLength14 = maxLengthCreator(14)\r\n\r\nconst MessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          name='newMessage'\r\n          component={TextArea}\r\n          validate={[required, maxLength14]}\r\n        ></Field>\r\n      </div>\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MessageFormRedux = reduxForm({\r\n  form: 'message'\r\n}) (MessageForm)\r\n\r\nconst Dialogs = (props) => {\r\n\r\n  let state = props.dialogsPage\r\n\r\n  let dialogsElements = state.dialogsData\r\n    .map (dialog => <DialogItem name={dialog.name} id={dialog.id} key={dialog.id}/>)\r\n\r\n  let messagesElements = state.messagesData\r\n    .map( message => <Message message={message.message} key={message.id}/>)\r\n\r\n  let onSendMessage = (values) => {\r\n    props.sendMessage(values.newMessage)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div>\r\n        <div>\r\n          {dialogsElements}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div className={classes.messages}>\r\n          {messagesElements}\r\n        </div>\r\n        <MessageFormRedux\r\n          onSubmit={onSendMessage}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs","import React from \"react\"\r\nimport {newMessageActionCreator} from \"../../redux/dialogsReducer\"\r\nimport Dialogs from \"./Dialogs\"\r\nimport {connect} from \"react-redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\nimport {compose} from \"redux\"\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessage) => {\r\n      dispatch(newMessageActionCreator(newMessage))\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs)"],"sourceRoot":""}